<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>CanSat TelemetrÃ­a</title>
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
  <style>
    body { font-family: Arial, sans-serif; margin: 20px; }
    h1 { text-align: center; }
    #grafico { width: 100%; height: 700px; }
  </style>
</head>
<body>
  <h1>ðŸ“¡ TelemetrÃ­a CanSat</h1>
  <div id="grafico"></div>

  <script>
    async function cargarDatos() {
      try {
        const response = await fetch('data.json');
        const datos = await response.json();

        const tiempo = datos.map(d => d.time);
        const temp = datos.map(d => d.temp);
        const hum  = datos.map(d => d.hum);
        const pres = datos.map(d => d.pres);
        const alt  = datos.map(d => d.alt);

        const traces = [
          { x: tiempo, y: temp, name: 'Temperatura (Â°C)', mode: 'lines+markers' },
          { x: tiempo, y: hum,  name: 'Humedad (%)', mode: 'lines+markers' },
          { x: tiempo, y: pres, name: 'PresiÃ³n (hPa)', mode: 'lines+markers' },
          { x: tiempo, y: alt,  name: 'Altitud (m)', mode: 'lines+markers' }
        ];

        const layout = {
          title: 'Datos CanSat',
          height: 700,
          showlegend: true,
          legend: { orientation: 'h' }
        };

        Plotly.newPlot('grafico', traces, layout);
      } catch (error) {
        document.getElementById('grafico').innerHTML = '<p style="color:red;">Error al cargar los datos.</p>';
        console.error(error);
      }
    }

    cargarDatos();
  </script>
</body>
</html>

